{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template block_course_overview/main

    This template renders the main content area for the course_overview block

    Example context (json):
    {}
}}

<div id="block-course-overview-{{uniqid}}" class="block-course-overview" data-region="course-overview">

    {{# isediting }}
        {{{ select }}}
    {{/ isediting }}

    <ul id="block-course-overview-view-choices-{{ uniqid }}" class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link {{# viewingfavourites }}active{{/ viewingfavourites }}" href="" role="tab" data-toggle="tab" data-tabname="favourites">
                {{# str }}favourites, block_course_overview{{/ str }}
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {{^ viewingfavourites }}active{{/ viewingfavourites }}" href="" role="tab" data-toggle="tab" data-tabname="courses">
                {{# str }}courses{{/ str }}
            </a>
        </li>
    </ul>

    <div class="course-list">
        {{# courses }}
            <div id="course-{{ id }}" class="courseovbox">
                <h2>
                    {{# isediting }}
                        <i class="icon fa fa-fw fa-arrows cursor" title="{{# str }}movecourse, block_course_overview, {{ fullname }}{{/ str }}"></i>
                    {{/ isediting }}
                    {{^ isediting }}
                        <a href="{{ favouritelink }}" class="favourite_icon" alt="{{# src }}addfavourite{{/ src }}">
                            <i class="icon fa fa-fw fa-star-o " title="{{# str }}makefavourite, block_course_overview{{/ str }}"></i>
                        </a>
                    {{/ isediting }}
                    <a href="{{ link }}">{{ fullname }}</a>
                    {{# hasoverviews }}
                        {{# overviews }}
                             <div class="overview-icon" data-id="#{{ overviewid }}">
                                 {{{ icon }}}
                             </div>
                        {{/ overviews }}
                    {{/ hasoverviews }}
                </h2>
            </div>
        {{/ courses }}
    </div>

    {{^ isediting }}
    <div class="dialogue_container">
        {{# courses }}
            {{# hasoverviews }}
                {{# overviews }}
                    <div class="dialogue" id="{{ overviewid }}">
                        <h3>{{ coursename }}</h3>
                        <div class="activity_overviews">
                            {{{ text }}}
                        </div>
                    </div>
                {{/ overviews }}
            {{/ hasoverviews }}
        {{/ courses }}
    </div>
    {{/ isediting }}

    <small>'Customise this page' then drag-and-drop to reorder</small>
</div>

{{# isediting }}
    {{# js }}
        require(['jquery', 'block_course_overview/edit'], function($, Edit) {
            Edit.init();
        });
    {{/ js }}
{{/ isediting }}
{{^ isediting }}
    {{# js }}
        require(['jquery', 'block_course_overview/popup'], function($, Popup) {
            Popup.init();
        });
    {{/ js }}
{{/ isediting }}

